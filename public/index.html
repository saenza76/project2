<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
    <meta name="google-signin-client_id" content="995828512035-cselasg16c8hap53ma9ei72ga4e5lum0.apps.googleusercontent.com">
    <title>Lets Make A Meal</title>
    <!-- CSS  -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link href="assets/css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection" />
    <link href="assets/css/style.css" type="text/css" rel="stylesheet" media="screen,projection" />
    <!-- Custom Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Oswald" rel="stylesheet">
    <!-- JQuery -->
    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script>
    $(document).ready(function() {
        $('.emptyDiv').hide();
    });
    </script>
</head>

<body>
    <nav class="red lighten-2" role="navigation">
        <div class="nav-wrapper container">
            <a id="logo-container" href="#" class="brand-logo white-text" style="color:black;">Home</a>
            <!-- Sign in w/Google -->
            <div id="my-signin2" class="brand-logo right"></div>
            <script>
            function onSuccess(googleUser) {
                // This is where we control what happens after they are logged in
                var profile = googleUser.getBasicProfile();
                // console.log('ID: ' + profile.getId()); // Do not send to your backend! Use an ID token instead.
                console.log('Name: ' + profile.getName());
                console.log('Image URL: ' + profile.getImageUrl());
                console.log('Email: ' + profile.getEmail());
            }

            function onFailure(error) {
                console.log(error);
            }

            function renderButton() {
                gapi.signin2.render('my-signin2', {
                    'scope': 'profile email',
                    'width': 150,
                    'height': 50,
                    'onsuccess': onSuccess,
                    'onfailure': onFailure
                });
            }
            </script>
            <a href="#" data-activates="nav-mobile" class="button-collapse"><i class="material-icons">menu</i></a>
        </div>
    </nav>
    <div id="index-banner" class="parallax-container">
        <div class="section no-pad-bot">
            <div class="container">
                <br>
                <br>
                <h1 class="header center white-text text-lighten-2 headerFont">Let's make a meal</h1>
                <div class="row center">
                    <h3 class="header col s12 white-text text-lighten-2 headerFont">Please enter your ingredients below</h5>
                </div>
                <div class="row center">
                <form id="recipe-form">
                    <label for="recipe-input"></label>
                        <input class="center" type="text" placeholder="Enter your ingredient" id="recipe-input">
                        <br>
                        <!-- This button will trigger our AJAX call -->
                        <input class="btn-small waves-effect waves-light red lighten-1" id="findRecipe" type="submit" value="Submit">
                </form>
                </div>
        <br>
        <br>
    </div>
    </div>
    <div class="parallax"><img src="https://media.giphy.com/media/10SrYA07iDPyO4/giphy.gif" alt="Unsplashed background img 1"></div>
    </div>
    <div class="container-fluid emptyDiv">
        <div class="section">
            <div class="row">
                <div class="col s12 center">
                    <div class="section">
                    <h4>Your Recipes</h4>
                        <!--   Icon Section   -->
                        <div class="row">
                            <div class="col s12 m4">
                                <div class="ibOne"></div>
                            </div>
                            <div class="col s12 m4">
                                <div class="ibTwo"></div>
                            </div>
                            <div class="col s12 m4">
                                <div class="ibThree"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
        <div class="container-fluid">
        <div class="section">
            <!--   Icon Section   -->
            <div class="row">
                <div class="col s12 m4">
                    <div class="icon-block">
                        <h2 class="center red-text"><i class="material-icons">home</i></h2>
                        <h5 class="center">Andres Saenz</h5>
                        <p class="light">Hey, I'm Andres! I enjoy riverboat gambling trips and I make my own beef jerkey. I assisted my team with a lot of the back end work on this project. This was definitely a fun challenge for me, since I do not have a ton of experience with the back end development.</p>
                    </div>
                </div>
                <div class="col s12 m4">
                    <div class="icon-block">
                        <h2 class="center red-text"><i class="material-icons">insert_chart</i></h2>
                        <h5 class="center">Bryan Kenneweg</h5>
                        <p class="light">Hello I’m Bryan. Born at a very young age, a Caffeine dependent life-form and self-made thousandaire. The guy, with much help from my awesome teammates, turned the rough idea into reality. Assisted with both front end and back end developement for the project. Matt Damon!</p>
                    </div>
                </div>
                <div class="col s12 m4">
                    <div class="icon-block">
                        <h2 class="center red-text text-darken-1"><i class="material-icons">web</i></h2>
                        <h5 class="center">Bradley Gamboa</h5>
                        <p class="light">Hello my name is Bradley and I like to Party. Anyways I worked a lot on the front-end and utilizing Googles Login API to help us track who is accessing our app. Thank you Roger and Caren for your help thoughout.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="parallax-container valign-wrapper">
        <div class="section no-pad-bot">
            <div class="container">
                <div class="row center">
                    <h5 class="header col s12 light headerFont2">Clever comment about how awesome we are as a team</h5>
                </div>
            </div>
        </div>
        <div class="parallax"><img src="https://media.giphy.com/media/iJYM4FcVSmOSk/giphy.gif" alt="Unsplashed background img 2"></div>
    </div>
            <footer class="page-footer">
          <div class="container">
            <div class="row">
 
 <a style="color: white;" href="chart.html">Chart</a>

 <!-- Signout button -->
    <a style="color: white;" class="right" href="http://localhost:3000" onclick="signOut();">Sign out</a>
    <script>
    function signOut() {
        var auth2 = gapi.auth2.getAuthInstance();
        auth2.signOut().then(function() {
            console.log('User signed out.');
        });
    }
    </script>
              </div>
            </div>
          </div>
          <div class="footer-copyright">
            <div class="container center">
            © 2016 Copyright Bradley, Andres, Bryan #1
            </div>
          </div>
        </footer>
        <script>
    // This .on("click") function will trigger the AJAX Call
    $('#findRecipe').on('click', function(){
        $('.emptyDiv').show();

        $(".ibOne").empty();
        $(".ibTwo").empty();
        $(".ibThree").empty();
        // Here we grab the text from the input box 
        var ingredient = $('#recipe-input').val();

        // Here we assemble our URL 
        var queryURL = "https://api.edamam.com/search?q=" + ingredient;
        
        $.ajax({url: queryURL, method: "Get", dataType: 'jsonp'}).done(function(response) {
            console.log(response);
            
            //pulling and displaying data
            var title = "<h5>" + response.hits[0].recipe.label + "</h5>";
            var image = "<a href='" + response.hits[0].recipe.url + "''><img src='" + response.hits[0].recipe.image + "'></a>";
            var recipe = "<p>" + response.hits[0].recipe.ingredientLines + "</p>";
            
            
            $(".ibOne").append(title);
            $(".ibOne").append(image);
            $(".ibOne").append(recipe);


            var title2 = "<h5>" + response.hits[1].recipe.label + "</h5>"
            var image2 = "<a href='" + response.hits[1].recipe.url + "''><img src='" + response.hits[1].recipe.image + "'></a>";
            var recipe2 = "<p>" + response.hits[1].recipe.ingredientLines + "</p>";
            $(".ibTwo").append(title2);
            $(".ibTwo").append(image2);
            $(".ibTwo").append(recipe2);
            
            var title3 = "<h5>" + response.hits[2].recipe.label + "</h5>"
            var image3 = "<a href='" + response.hits[2].recipe.url + "''><img src='" + response.hits[2].recipe.image + "'></a>";
            var recipe3 = "<p>" + response.hits[2].recipe.ingredientLines + "</p>";
            $(".ibThree").append(title3);
            $(".ibThree").append(image3);
            $(".ibThree").append(recipe3);
            
    });
        
        return false;
    })

    </script>

    <script type="text/javascript">
    $(document).ready(function() {

        // when the 'Submit' button is pressed make an AJAX call to the server which will then insert the burger into our database
        $('#findRecipe').click(function() {

            var originURL = document.location.origin;

            var recipeInfo = {
                name: $('#recipe-input').val()
            };

            $('#recipe-input').val(null);

            $.post(originURL + '/api', recipeInfo).done(function(data) {

                console.log(recipeInfo);

            });

        });

    });
    </script>

    <script src="assets/js/materialize.js"></script>
    <script src="assets/js/init.js"></script>
    <!-- Google Sign In -->
    <script src="https://apis.google.com/js/platform.js?onload=renderButton" async defer></script>
</body>

</html>
